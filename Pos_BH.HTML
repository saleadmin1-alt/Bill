<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>H√≥a ƒë∆°n</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { margin-bottom: 10px; }
    .info { margin-bottom: 20px; }
    .products { border-collapse: collapse; width: 100%; }
    .products th, .products td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    .products th { background: #f4f4f4; }
  </style>
</head>
<body>
  <h2>üßæ H√≥a ƒë∆°n b√°n h√†ng</h2>
  <div class="info">
    <p><b>M√£ ƒë∆°n h√†ng:</b> <span id="id"></span></p>
    <p><b>T√™n kh√°ch h√†ng:</b> <span id="ten"></span></p>
    <p><b>ƒê·ªãa ch·ªâ:</b> <span id="diachi"></span></p>
    <p><b>S·ªë l∆∞·ª£ng:</b> <span id="soluong"></span></p>
    <p><b>T·ªïng ti·ªÅn:</b> <span id="tongtien"></span></p>
    <p><b>M√£ QR ƒë∆°n h√†ng:</b> <span id="codonhang"></span></p>
    <p><b>Thanh to√°n:</b> <span id="codthanhtoan"></span></p>
  </div>

  <h3>Chi ti·∫øt s·∫£n ph·∫©m</h3>
  <table class="products">
    <thead>
      <tr>
        <th>#</th>
        <th>M√£ chi ti·∫øt</th>
      </tr>
    </thead>
    <tbody id="list"></tbody>
  </table>

  <script>
    // L·∫•y query params t·ª´ URL
    const params = new URLSearchParams(window.location.search);

    // Hi·ªÉn th·ªã th√¥ng tin chung
    document.getElementById("id").textContent = params.get("id") || "";
    document.getElementById("ten").textContent = decodeURIComponent(params.get("ten") || "");
    document.getElementById("diachi").textContent = decodeURIComponent(params.get("diachi") || "");
    document.getElementById("soluong").textContent = params.get("soluong") || "";
    document.getElementById("tongtien").textContent = params.get("tongtien") || "";
    document.getElementById("codonhang").textContent = params.get("codonhang") || "";
    document.getElementById("codthanhtoan").textContent = params.get("codthanhtoan") || "";

    // X·ª≠ l√Ω danh s√°ch chi ti·∫øt
    const rawData = decodeURIComponent(params.get("data") || "");
    const items = rawData.split("_b_").filter(x => x.trim() !== "");

    const tbody = document.getElementById("list");
    items.forEach((item, i) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${i + 1}</td><td>${item}</td>`;
      tbody.appendChild(tr);
    });
  </script>
</body>
</html>
