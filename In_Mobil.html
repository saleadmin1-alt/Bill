<!-- Ch·ªçn kh·ªï gi·∫•y -->
<label for="paperWidth">Ch·ªçn kh·ªï gi·∫•y:</label>
<select id="paperWidth">
  <option value="55mm">55mm</option>
  <option value="58mm" selected>58mm</option>
  <option value="60mm">60mm</option>
  <option value="70mm">70mm</option>
</select>

<table id="billTable">
  <thead>
    <tr>
      <th>STT</th>
      <th>T√™n h√†ng / Chi ti·∫øt</th>
    </tr>
  </thead>
  <tbody></tbody>
  <tfoot>
    <tr class="total-row">
      <td>T·ªîNG C·ªòNG</td>
      <td id="tongCell">0</td>
    </tr>
  </tfoot>
</table>

<button id="printBtn" onclick="window.print()">üñ® In</button>

<style>
  body { font-family: Arial, sans-serif; margin: 0; font-size: 14px; }
  table { border-collapse: collapse; width: 100%; font-size: 13px; }
  th, td { border: none; padding: 2px 5px; vertical-align: top; word-break: break-word; }
  .product-name { font-weight: bold; display: block; word-wrap: break-word; }
  .product-detail { display: flex; justify-content: space-between; width: 100%; font-size: 12px; }

  .total-row td { font-weight: bold; }

  #printBtn, #paperWidth { margin: 10px 0; }

  @media print {
    #printBtn, #paperWidth { display: none; }
    body { margin: 0; width: 58mm; }
  }
</style>

<script>
  const paperSelect = document.getElementById("paperWidth");
  paperSelect.addEventListener("change", function() {
    const width = this.value;
    let styleEl = document.getElementById("printWidthStyle");
    if (!styleEl) {
      styleEl = document.createElement("style");
      styleEl.id = "printWidthStyle";
      document.head.appendChild(styleEl);
    }
    styleEl.innerHTML = `@media print { body { width: ${width}; margin: 0; } }`;
  });

  // D·ªØ li·ªáu v√≠ d·ª•
  const rows = [
    {ten: "S·∫£n ph·∫©m A d√†i t√™n h√†ng c√≥ th·ªÉ t·ª± xu·ªëng d√≤ng n·∫øu qu√° d√†i kh·ªï gi·∫•y", sl: 2, dg: 100000, tt: 200000},
    {ten: "S·∫£n ph·∫©m B", sl: 1, dg: 50000, tt: 50000}
  ];

  const tbody = document.querySelector("#billTable tbody");
  let tongSL = 0;
  let tongTien = 0;

  rows.forEach((item, index) => {
    const tr = document.createElement("tr");

    const tdStt = document.createElement("td");
    tdStt.textContent = index + 1;
    tr.appendChild(tdStt);

    const tdDetail = document.createElement("td");
    tdDetail.innerHTML = `
      <span class="product-name">${item.ten}</span>
      <div class="product-detail">
        <span>SL: ${item.sl}</span>
        <span>ƒê∆°n gi√°: ${item.dg.toLocaleString("vi-VN")}</span>
        <span>Th√†nh ti·ªÅn: ${item.tt.toLocaleString("vi-VN")}</span>
      </div>
    `;
    tr.appendChild(tdDetail);

    tongSL += item.sl;
    tongTien += item.tt;

    tbody.appendChild(tr);
  });

  document.getElementById("tongCell").textContent =
    `T·ªïng SL: ${tongSL} | T·ªïng ti·ªÅn: ${tongTien.toLocaleString("vi-VN")} VND`;
</script>
